{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":67},"end":{"line":3,"column":38,"index":105}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _servicesApi = require(_dependencyMap[1], \"../services/api\");\n  const useAuthStore = (0, _zustand.create)()((set, get) => ({\n    user: null,\n    sessionToken: null,\n    isAuthenticated: false,\n    isLoading: false,\n    hasCompletedOnboarding: false,\n    setUser: user => set({\n      user,\n      isAuthenticated: !!user\n    }),\n    setSessionToken: sessionToken => set({\n      sessionToken\n    }),\n    setLoading: isLoading => set({\n      isLoading\n    }),\n    setOnboardingComplete: hasCompletedOnboarding => set({\n      hasCompletedOnboarding\n    }),\n    login: async sessionId => {\n      try {\n        set({\n          isLoading: true\n        });\n        const response = await _servicesApi.api.post('/auth/session', {\n          session_id: sessionId\n        });\n        const {\n          user,\n          session_token\n        } = response.data;\n        set({\n          user,\n          sessionToken: session_token,\n          isAuthenticated: true,\n          isLoading: false\n        });\n      } catch (error) {\n        console.error('Login error:', error);\n        set({\n          isLoading: false\n        });\n        throw error;\n      }\n    },\n    logout: async () => {\n      try {\n        const {\n          sessionToken\n        } = get();\n        if (sessionToken) {\n          await _servicesApi.api.post('/auth/logout', {}, {\n            headers: {\n              Authorization: `Bearer ${sessionToken}`\n            }\n          });\n        }\n      } catch (error) {\n        console.error('Logout error:', error);\n      } finally {\n        set({\n          user: null,\n          sessionToken: null,\n          isAuthenticated: false\n        });\n      }\n    },\n    checkAuth: async () => {\n      // Simply set loading to false, no stored token to check without persistence\n      set({\n        isLoading: false,\n        isAuthenticated: false\n      });\n    },\n    updateProfile: async updates => {\n      const {\n        sessionToken\n      } = get();\n      if (!sessionToken) throw new Error('Not authenticated');\n      try {\n        const response = await _servicesApi.api.put('/auth/profile', updates, {\n          headers: {\n            Authorization: `Bearer ${sessionToken}`\n          }\n        });\n        set({\n          user: response.data\n        });\n      } catch (error) {\n        console.error('Update profile error:', error);\n        throw error;\n      }\n    }\n  }));\n  var _default = useAuthStore;\n});","lineCount":116,"map":[[7,2,94,0,"Object"],[7,8,94,0],[7,9,94,0,"defineProperty"],[7,23,94,0],[7,24,94,0,"exports"],[7,31,94,0],[8,4,94,0,"enumerable"],[8,14,94,0],[9,4,94,0,"get"],[9,7,94,0],[9,18,94,0,"get"],[9,19,94,0],[10,6,94,0],[10,13,94,0,"_default"],[10,21,94,0],[11,4,94,0],[12,2,94,0],[13,2,23,0,"Object"],[13,8,23,0],[13,9,23,0,"defineProperty"],[13,23,23,0],[13,24,23,0,"exports"],[13,31,23,0],[14,4,23,0,"enumerable"],[14,14,23,0],[15,4,23,0,"get"],[15,7,23,0],[15,18,23,0,"get"],[15,19,23,0],[16,6,23,0],[16,13,23,0,"useAuthStore"],[16,25,23,0],[17,4,23,0],[18,2,23,0],[19,2,1,0],[19,6,1,0,"_zustand"],[19,14,1,0],[19,17,1,0,"require"],[19,24,1,0],[19,25,1,0,"_dependencyMap"],[19,39,1,0],[20,2,3,0],[20,6,3,0,"_servicesApi"],[20,18,3,0],[20,21,3,0,"require"],[20,28,3,0],[20,29,3,0,"_dependencyMap"],[20,43,3,0],[21,2,23,7],[21,8,23,13,"useAuthStore"],[21,20,23,25],[21,23,23,28],[21,27,23,28,"create"],[21,35,23,34],[21,36,23,34,"create"],[21,42,23,34],[21,44,23,46],[21,45,23,47],[21,46,23,48],[21,47,23,49,"set"],[21,50,23,52],[21,52,23,54,"get"],[21,55,23,57],[21,61,23,63],[22,4,24,2,"user"],[22,8,24,6],[22,10,24,8],[22,14,24,12],[23,4,25,2,"sessionToken"],[23,16,25,14],[23,18,25,16],[23,22,25,20],[24,4,26,2,"isAuthenticated"],[24,19,26,17],[24,21,26,19],[24,26,26,24],[25,4,27,2,"isLoading"],[25,13,27,11],[25,15,27,13],[25,20,27,18],[26,4,28,2,"hasCompletedOnboarding"],[26,26,28,24],[26,28,28,26],[26,33,28,31],[27,4,30,2,"setUser"],[27,11,30,9],[27,13,30,12,"user"],[27,17,30,16],[27,21,30,21,"set"],[27,24,30,24],[27,25,30,25],[28,6,30,27,"user"],[28,10,30,31],[29,6,30,33,"isAuthenticated"],[29,21,30,48],[29,23,30,50],[29,24,30,51],[29,25,30,52,"user"],[30,4,30,57],[30,5,30,58],[30,6,30,59],[31,4,31,2,"setSessionToken"],[31,19,31,17],[31,21,31,20,"sessionToken"],[31,33,31,32],[31,37,31,37,"set"],[31,40,31,40],[31,41,31,41],[32,6,31,43,"sessionToken"],[33,4,31,56],[33,5,31,57],[33,6,31,58],[34,4,32,2,"setLoading"],[34,14,32,12],[34,16,32,15,"isLoading"],[34,25,32,24],[34,29,32,29,"set"],[34,32,32,32],[34,33,32,33],[35,6,32,35,"isLoading"],[36,4,32,45],[36,5,32,46],[36,6,32,47],[37,4,33,2,"setOnboardingComplete"],[37,25,33,23],[37,27,33,26,"hasCompletedOnboarding"],[37,49,33,48],[37,53,33,53,"set"],[37,56,33,56],[37,57,33,57],[38,6,33,59,"hasCompletedOnboarding"],[39,4,33,82],[39,5,33,83],[39,6,33,84],[40,4,35,2,"login"],[40,9,35,7],[40,11,35,9],[40,17,35,16,"sessionId"],[40,26,35,33],[40,30,35,38],[41,6,36,4],[41,10,36,8],[42,8,37,6,"set"],[42,11,37,9],[42,12,37,10],[43,10,37,12,"isLoading"],[43,19,37,21],[43,21,37,23],[44,8,37,28],[44,9,37,29],[44,10,37,30],[45,8,38,6],[45,14,38,12,"response"],[45,22,38,20],[45,25,38,23],[45,31,38,29,"api"],[45,43,38,32],[45,44,38,32,"api"],[45,47,38,32],[45,48,38,33,"post"],[45,52,38,37],[45,53,38,38],[45,68,38,53],[45,70,38,55],[46,10,38,57,"session_id"],[46,20,38,67],[46,22,38,69,"sessionId"],[47,8,38,79],[47,9,38,80],[47,10,38,81],[48,8,39,6],[48,14,39,12],[49,10,39,14,"user"],[49,14,39,18],[50,10,39,20,"session_token"],[51,8,39,34],[51,9,39,35],[51,12,39,38,"response"],[51,20,39,46],[51,21,39,47,"data"],[51,25,39,51],[52,8,41,6,"set"],[52,11,41,9],[52,12,41,10],[53,10,42,8,"user"],[53,14,42,12],[54,10,43,8,"sessionToken"],[54,22,43,20],[54,24,43,22,"session_token"],[54,37,43,35],[55,10,44,8,"isAuthenticated"],[55,25,44,23],[55,27,44,25],[55,31,44,29],[56,10,45,8,"isLoading"],[56,19,45,17],[56,21,45,19],[57,8,46,6],[57,9,46,7],[57,10,46,8],[58,6,47,4],[58,7,47,5],[58,8,47,6],[58,15,47,13,"error"],[58,20,47,18],[58,22,47,20],[59,8,48,6,"console"],[59,15,48,13],[59,16,48,14,"error"],[59,21,48,19],[59,22,48,20],[59,36,48,34],[59,38,48,36,"error"],[59,43,48,41],[59,44,48,42],[60,8,49,6,"set"],[60,11,49,9],[60,12,49,10],[61,10,49,12,"isLoading"],[61,19,49,21],[61,21,49,23],[62,8,49,29],[62,9,49,30],[62,10,49,31],[63,8,50,6],[63,14,50,12,"error"],[63,19,50,17],[64,6,51,4],[65,4,52,2],[65,5,52,3],[66,4,54,2,"logout"],[66,10,54,8],[66,12,54,10],[66,18,54,10,"logout"],[66,19,54,10],[66,24,54,22],[67,6,55,4],[67,10,55,8],[68,8,56,6],[68,14,56,12],[69,10,56,14,"sessionToken"],[70,8,56,27],[70,9,56,28],[70,12,56,31,"get"],[70,15,56,34],[70,16,56,35],[70,17,56,36],[71,8,57,6],[71,12,57,10,"sessionToken"],[71,24,57,22],[71,26,57,24],[72,10,58,8],[72,16,58,14,"api"],[72,28,58,17],[72,29,58,17,"api"],[72,32,58,17],[72,33,58,18,"post"],[72,37,58,22],[72,38,58,23],[72,52,58,37],[72,54,58,39],[72,55,58,40],[72,56,58,41],[72,58,58,43],[73,12,59,10,"headers"],[73,19,59,17],[73,21,59,19],[74,14,59,21,"Authorization"],[74,27,59,34],[74,29,59,36],[74,39,59,46,"sessionToken"],[74,51,59,58],[75,12,59,61],[76,10,60,8],[76,11,60,9],[76,12,60,10],[77,8,61,6],[78,6,62,4],[78,7,62,5],[78,8,62,6],[78,15,62,13,"error"],[78,20,62,18],[78,22,62,20],[79,8,63,6,"console"],[79,15,63,13],[79,16,63,14,"error"],[79,21,63,19],[79,22,63,20],[79,37,63,35],[79,39,63,37,"error"],[79,44,63,42],[79,45,63,43],[80,6,64,4],[80,7,64,5],[80,16,64,14],[81,8,65,6,"set"],[81,11,65,9],[81,12,65,10],[82,10,66,8,"user"],[82,14,66,12],[82,16,66,14],[82,20,66,18],[83,10,67,8,"sessionToken"],[83,22,67,20],[83,24,67,22],[83,28,67,26],[84,10,68,8,"isAuthenticated"],[84,25,68,23],[84,27,68,25],[85,8,69,6],[85,9,69,7],[85,10,69,8],[86,6,70,4],[87,4,71,2],[87,5,71,3],[88,4,73,2,"checkAuth"],[88,13,73,11],[88,15,73,13],[88,21,73,13,"checkAuth"],[88,22,73,13],[88,27,73,25],[89,6,74,4],[90,6,75,4,"set"],[90,9,75,7],[90,10,75,8],[91,8,75,10,"isLoading"],[91,17,75,19],[91,19,75,21],[91,24,75,26],[92,8,75,28,"isAuthenticated"],[92,23,75,43],[92,25,75,45],[93,6,75,51],[93,7,75,52],[93,8,75,53],[94,4,76,2],[94,5,76,3],[95,4,78,2,"updateProfile"],[95,17,78,15],[95,19,78,17],[95,25,78,24,"updates"],[95,32,78,46],[95,36,78,51],[96,6,79,4],[96,12,79,10],[97,8,79,12,"sessionToken"],[98,6,79,25],[98,7,79,26],[98,10,79,29,"get"],[98,13,79,32],[98,14,79,33],[98,15,79,34],[99,6,80,4],[99,10,80,8],[99,11,80,9,"sessionToken"],[99,23,80,21],[99,25,80,23],[99,31,80,29],[99,35,80,33,"Error"],[99,40,80,38],[99,41,80,39],[99,60,80,58],[99,61,80,59],[100,6,82,4],[100,10,82,8],[101,8,83,6],[101,14,83,12,"response"],[101,22,83,20],[101,25,83,23],[101,31,83,29,"api"],[101,43,83,32],[101,44,83,32,"api"],[101,47,83,32],[101,48,83,33,"put"],[101,51,83,36],[101,52,83,37],[101,67,83,52],[101,69,83,54,"updates"],[101,76,83,61],[101,78,83,63],[102,10,84,8,"headers"],[102,17,84,15],[102,19,84,17],[103,12,84,19,"Authorization"],[103,25,84,32],[103,27,84,34],[103,37,84,44,"sessionToken"],[103,49,84,56],[104,10,84,59],[105,8,85,6],[105,9,85,7],[105,10,85,8],[106,8,86,6,"set"],[106,11,86,9],[106,12,86,10],[107,10,86,12,"user"],[107,14,86,16],[107,16,86,18,"response"],[107,24,86,26],[107,25,86,27,"data"],[108,8,86,32],[108,9,86,33],[108,10,86,34],[109,6,87,4],[109,7,87,5],[109,8,87,6],[109,15,87,13,"error"],[109,20,87,18],[109,22,87,20],[110,8,88,6,"console"],[110,15,88,13],[110,16,88,14,"error"],[110,21,88,19],[110,22,88,20],[110,45,88,43],[110,47,88,45,"error"],[110,52,88,50],[110,53,88,51],[111,8,89,6],[111,14,89,12,"error"],[111,19,89,17],[112,6,90,4],[113,4,91,2],[114,2,92,0],[114,3,92,1],[114,4,92,2],[114,5,92,3],[115,2,94,0],[115,6,94,0,"_default"],[115,14,94,0],[115,17,94,15,"useAuthStore"],[115,29,94,27],[116,0,94,28],[116,3]],"functionMap":{"names":["<global>","create$argument_0","setUser","setSessionToken","setLoading","setOnboardingComplete","login","logout","checkAuth","updateProfile"],"mappings":"AAA;gDCsB;WCO,gDD;mBEC,uCF;cGC,iCH;yBIC,2DJ;SKE;GLiB;UME;GNiB;aOE;GPG;iBQE;GRa;EDC"},"hasCjsExports":false},"type":"js/module"}]}