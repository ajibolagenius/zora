{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":1,"column":0,"index":0},"end":{"line":1,"column":33,"index":33}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"zustand/middleware","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":34},"end":{"line":2,"column":64,"index":98}}],"key":"YMP0j6stqbYl0MJAKxYubYnfTz0=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":99},"end":{"line":3,"column":69,"index":168}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}},{"name":"../services/api","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":202},"end":{"line":5,"column":38,"index":240}}],"key":"Pr5/EB33W7mJGi+ygccy+pUf1E8=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"useAuthStore\", {\n    enumerable: true,\n    get: function () {\n      return useAuthStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _zustandMiddleware = require(_dependencyMap[1], \"zustand/middleware\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[2], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  var _servicesApi = require(_dependencyMap[3], \"../services/api\");\n  const useAuthStore = (0, _zustand.create)()((0, _zustandMiddleware.persist)((set, get) => ({\n    user: null,\n    sessionToken: null,\n    isAuthenticated: false,\n    isLoading: true,\n    hasCompletedOnboarding: false,\n    setUser: user => set({\n      user,\n      isAuthenticated: !!user\n    }),\n    setSessionToken: sessionToken => set({\n      sessionToken\n    }),\n    setLoading: isLoading => set({\n      isLoading\n    }),\n    setOnboardingComplete: hasCompletedOnboarding => set({\n      hasCompletedOnboarding\n    }),\n    login: async sessionId => {\n      try {\n        set({\n          isLoading: true\n        });\n        const response = await _servicesApi.api.post('/auth/session', {\n          session_id: sessionId\n        });\n        const {\n          user,\n          session_token\n        } = response.data;\n        set({\n          user,\n          sessionToken: session_token,\n          isAuthenticated: true,\n          isLoading: false\n        });\n      } catch (error) {\n        console.error('Login error:', error);\n        set({\n          isLoading: false\n        });\n        throw error;\n      }\n    },\n    logout: async () => {\n      try {\n        const {\n          sessionToken\n        } = get();\n        if (sessionToken) {\n          await _servicesApi.api.post('/auth/logout', {}, {\n            headers: {\n              Authorization: `Bearer ${sessionToken}`\n            }\n          });\n        }\n      } catch (error) {\n        console.error('Logout error:', error);\n      } finally {\n        set({\n          user: null,\n          sessionToken: null,\n          isAuthenticated: false\n        });\n      }\n    },\n    checkAuth: async () => {\n      const {\n        sessionToken\n      } = get();\n      if (!sessionToken) {\n        set({\n          isLoading: false,\n          isAuthenticated: false\n        });\n        return;\n      }\n      try {\n        set({\n          isLoading: true\n        });\n        // Skip API call on web for now, just use stored session\n        set({\n          isAuthenticated: true,\n          isLoading: false\n        });\n      } catch (error) {\n        console.error('Auth check error:', error);\n        set({\n          user: null,\n          sessionToken: null,\n          isAuthenticated: false,\n          isLoading: false\n        });\n      }\n    },\n    updateProfile: async updates => {\n      const {\n        sessionToken\n      } = get();\n      if (!sessionToken) throw new Error('Not authenticated');\n      try {\n        const response = await _servicesApi.api.put('/auth/profile', updates, {\n          headers: {\n            Authorization: `Bearer ${sessionToken}`\n          }\n        });\n        set({\n          user: response.data\n        });\n      } catch (error) {\n        console.error('Update profile error:', error);\n        throw error;\n      }\n    }\n  }), {\n    name: 'zora-auth-storage',\n    storage: (0, _zustandMiddleware.createJSONStorage)(() => AsyncStorage.default),\n    partialize: state => ({\n      sessionToken: state.sessionToken,\n      hasCompletedOnboarding: state.hasCompletedOnboarding\n    })\n  }));\n  var _default = useAuthStore;\n});","lineCount":154,"map":[[12,2,128,0,"Object"],[12,8,128,0],[12,9,128,0,"defineProperty"],[12,23,128,0],[12,24,128,0,"exports"],[12,31,128,0],[13,4,128,0,"enumerable"],[13,14,128,0],[14,4,128,0,"get"],[14,7,128,0],[14,18,128,0,"get"],[14,19,128,0],[15,6,128,0],[15,13,128,0,"_default"],[15,21,128,0],[16,4,128,0],[17,2,128,0],[18,2,25,0,"Object"],[18,8,25,0],[18,9,25,0,"defineProperty"],[18,23,25,0],[18,24,25,0,"exports"],[18,31,25,0],[19,4,25,0,"enumerable"],[19,14,25,0],[20,4,25,0,"get"],[20,7,25,0],[20,18,25,0,"get"],[20,19,25,0],[21,6,25,0],[21,13,25,0,"useAuthStore"],[21,25,25,0],[22,4,25,0],[23,2,25,0],[24,2,1,0],[24,6,1,0,"_zustand"],[24,14,1,0],[24,17,1,0,"require"],[24,24,1,0],[24,25,1,0,"_dependencyMap"],[24,39,1,0],[25,2,2,0],[25,6,2,0,"_zustandMiddleware"],[25,24,2,0],[25,27,2,0,"require"],[25,34,2,0],[25,35,2,0,"_dependencyMap"],[25,49,2,0],[26,2,3,0],[26,6,3,0,"_reactNativeAsyncStorageAsyncStorage"],[26,42,3,0],[26,45,3,0,"require"],[26,52,3,0],[26,53,3,0,"_dependencyMap"],[26,67,3,0],[27,2,3,0],[27,6,3,0,"AsyncStorage"],[27,18,3,0],[27,21,3,0,"_interopDefault"],[27,36,3,0],[27,37,3,0,"_reactNativeAsyncStorageAsyncStorage"],[27,73,3,0],[28,2,5,0],[28,6,5,0,"_servicesApi"],[28,18,5,0],[28,21,5,0,"require"],[28,28,5,0],[28,29,5,0,"_dependencyMap"],[28,43,5,0],[29,2,25,7],[29,8,25,13,"useAuthStore"],[29,20,25,25],[29,23,25,28],[29,27,25,28,"create"],[29,35,25,34],[29,36,25,34,"create"],[29,42,25,34],[29,44,25,46],[29,45,25,47],[29,46,26,2],[29,50,26,2,"persist"],[29,68,26,9],[29,69,26,9,"persist"],[29,76,26,9],[29,78,27,4],[29,79,27,5,"set"],[29,82,27,8],[29,84,27,10,"get"],[29,87,27,13],[29,93,27,19],[30,4,28,6,"user"],[30,8,28,10],[30,10,28,12],[30,14,28,16],[31,4,29,6,"sessionToken"],[31,16,29,18],[31,18,29,20],[31,22,29,24],[32,4,30,6,"isAuthenticated"],[32,19,30,21],[32,21,30,23],[32,26,30,28],[33,4,31,6,"isLoading"],[33,13,31,15],[33,15,31,17],[33,19,31,21],[34,4,32,6,"hasCompletedOnboarding"],[34,26,32,28],[34,28,32,30],[34,33,32,35],[35,4,34,6,"setUser"],[35,11,34,13],[35,13,34,16,"user"],[35,17,34,20],[35,21,34,25,"set"],[35,24,34,28],[35,25,34,29],[36,6,34,31,"user"],[36,10,34,35],[37,6,34,37,"isAuthenticated"],[37,21,34,52],[37,23,34,54],[37,24,34,55],[37,25,34,56,"user"],[38,4,34,61],[38,5,34,62],[38,6,34,63],[39,4,35,6,"setSessionToken"],[39,19,35,21],[39,21,35,24,"sessionToken"],[39,33,35,36],[39,37,35,41,"set"],[39,40,35,44],[39,41,35,45],[40,6,35,47,"sessionToken"],[41,4,35,60],[41,5,35,61],[41,6,35,62],[42,4,36,6,"setLoading"],[42,14,36,16],[42,16,36,19,"isLoading"],[42,25,36,28],[42,29,36,33,"set"],[42,32,36,36],[42,33,36,37],[43,6,36,39,"isLoading"],[44,4,36,49],[44,5,36,50],[44,6,36,51],[45,4,37,6,"setOnboardingComplete"],[45,25,37,27],[45,27,37,30,"hasCompletedOnboarding"],[45,49,37,52],[45,53,37,57,"set"],[45,56,37,60],[45,57,37,61],[46,6,37,63,"hasCompletedOnboarding"],[47,4,37,86],[47,5,37,87],[47,6,37,88],[48,4,39,6,"login"],[48,9,39,11],[48,11,39,13],[48,17,39,20,"sessionId"],[48,26,39,37],[48,30,39,42],[49,6,40,8],[49,10,40,12],[50,8,41,10,"set"],[50,11,41,13],[50,12,41,14],[51,10,41,16,"isLoading"],[51,19,41,25],[51,21,41,27],[52,8,41,32],[52,9,41,33],[52,10,41,34],[53,8,42,10],[53,14,42,16,"response"],[53,22,42,24],[53,25,42,27],[53,31,42,33,"api"],[53,43,42,36],[53,44,42,36,"api"],[53,47,42,36],[53,48,42,37,"post"],[53,52,42,41],[53,53,42,42],[53,68,42,57],[53,70,42,59],[54,10,42,61,"session_id"],[54,20,42,71],[54,22,42,73,"sessionId"],[55,8,42,83],[55,9,42,84],[55,10,42,85],[56,8,43,10],[56,14,43,16],[57,10,43,18,"user"],[57,14,43,22],[58,10,43,24,"session_token"],[59,8,43,38],[59,9,43,39],[59,12,43,42,"response"],[59,20,43,50],[59,21,43,51,"data"],[59,25,43,55],[60,8,45,10,"set"],[60,11,45,13],[60,12,45,14],[61,10,46,12,"user"],[61,14,46,16],[62,10,47,12,"sessionToken"],[62,22,47,24],[62,24,47,26,"session_token"],[62,37,47,39],[63,10,48,12,"isAuthenticated"],[63,25,48,27],[63,27,48,29],[63,31,48,33],[64,10,49,12,"isLoading"],[64,19,49,21],[64,21,49,23],[65,8,50,10],[65,9,50,11],[65,10,50,12],[66,6,51,8],[66,7,51,9],[66,8,51,10],[66,15,51,17,"error"],[66,20,51,22],[66,22,51,24],[67,8,52,10,"console"],[67,15,52,17],[67,16,52,18,"error"],[67,21,52,23],[67,22,52,24],[67,36,52,38],[67,38,52,40,"error"],[67,43,52,45],[67,44,52,46],[68,8,53,10,"set"],[68,11,53,13],[68,12,53,14],[69,10,53,16,"isLoading"],[69,19,53,25],[69,21,53,27],[70,8,53,33],[70,9,53,34],[70,10,53,35],[71,8,54,10],[71,14,54,16,"error"],[71,19,54,21],[72,6,55,8],[73,4,56,6],[73,5,56,7],[74,4,58,6,"logout"],[74,10,58,12],[74,12,58,14],[74,18,58,14,"logout"],[74,19,58,14],[74,24,58,26],[75,6,59,8],[75,10,59,12],[76,8,60,10],[76,14,60,16],[77,10,60,18,"sessionToken"],[78,8,60,31],[78,9,60,32],[78,12,60,35,"get"],[78,15,60,38],[78,16,60,39],[78,17,60,40],[79,8,61,10],[79,12,61,14,"sessionToken"],[79,24,61,26],[79,26,61,28],[80,10,62,12],[80,16,62,18,"api"],[80,28,62,21],[80,29,62,21,"api"],[80,32,62,21],[80,33,62,22,"post"],[80,37,62,26],[80,38,62,27],[80,52,62,41],[80,54,62,43],[80,55,62,44],[80,56,62,45],[80,58,62,47],[81,12,63,14,"headers"],[81,19,63,21],[81,21,63,23],[82,14,63,25,"Authorization"],[82,27,63,38],[82,29,63,40],[82,39,63,50,"sessionToken"],[82,51,63,62],[83,12,63,65],[84,10,64,12],[84,11,64,13],[84,12,64,14],[85,8,65,10],[86,6,66,8],[86,7,66,9],[86,8,66,10],[86,15,66,17,"error"],[86,20,66,22],[86,22,66,24],[87,8,67,10,"console"],[87,15,67,17],[87,16,67,18,"error"],[87,21,67,23],[87,22,67,24],[87,37,67,39],[87,39,67,41,"error"],[87,44,67,46],[87,45,67,47],[88,6,68,8],[88,7,68,9],[88,16,68,18],[89,8,69,10,"set"],[89,11,69,13],[89,12,69,14],[90,10,70,12,"user"],[90,14,70,16],[90,16,70,18],[90,20,70,22],[91,10,71,12,"sessionToken"],[91,22,71,24],[91,24,71,26],[91,28,71,30],[92,10,72,12,"isAuthenticated"],[92,25,72,27],[92,27,72,29],[93,8,73,10],[93,9,73,11],[93,10,73,12],[94,6,74,8],[95,4,75,6],[95,5,75,7],[96,4,77,6,"checkAuth"],[96,13,77,15],[96,15,77,17],[96,21,77,17,"checkAuth"],[96,22,77,17],[96,27,77,29],[97,6,78,8],[97,12,78,14],[98,8,78,16,"sessionToken"],[99,6,78,29],[99,7,78,30],[99,10,78,33,"get"],[99,13,78,36],[99,14,78,37],[99,15,78,38],[100,6,79,8],[100,10,79,12],[100,11,79,13,"sessionToken"],[100,23,79,25],[100,25,79,27],[101,8,80,10,"set"],[101,11,80,13],[101,12,80,14],[102,10,80,16,"isLoading"],[102,19,80,25],[102,21,80,27],[102,26,80,32],[103,10,80,34,"isAuthenticated"],[103,25,80,49],[103,27,80,51],[104,8,80,57],[104,9,80,58],[104,10,80,59],[105,8,81,10],[106,6,82,8],[107,6,84,8],[107,10,84,12],[108,8,85,10,"set"],[108,11,85,13],[108,12,85,14],[109,10,85,16,"isLoading"],[109,19,85,25],[109,21,85,27],[110,8,85,32],[110,9,85,33],[110,10,85,34],[111,8,86,10],[112,8,87,10,"set"],[112,11,87,13],[112,12,87,14],[113,10,88,12,"isAuthenticated"],[113,25,88,27],[113,27,88,29],[113,31,88,33],[114,10,89,12,"isLoading"],[114,19,89,21],[114,21,89,23],[115,8,90,10],[115,9,90,11],[115,10,90,12],[116,6,91,8],[116,7,91,9],[116,8,91,10],[116,15,91,17,"error"],[116,20,91,22],[116,22,91,24],[117,8,92,10,"console"],[117,15,92,17],[117,16,92,18,"error"],[117,21,92,23],[117,22,92,24],[117,41,92,43],[117,43,92,45,"error"],[117,48,92,50],[117,49,92,51],[118,8,93,10,"set"],[118,11,93,13],[118,12,93,14],[119,10,94,12,"user"],[119,14,94,16],[119,16,94,18],[119,20,94,22],[120,10,95,12,"sessionToken"],[120,22,95,24],[120,24,95,26],[120,28,95,30],[121,10,96,12,"isAuthenticated"],[121,25,96,27],[121,27,96,29],[121,32,96,34],[122,10,97,12,"isLoading"],[122,19,97,21],[122,21,97,23],[123,8,98,10],[123,9,98,11],[123,10,98,12],[124,6,99,8],[125,4,100,6],[125,5,100,7],[126,4,102,6,"updateProfile"],[126,17,102,19],[126,19,102,21],[126,25,102,28,"updates"],[126,32,102,50],[126,36,102,55],[127,6,103,8],[127,12,103,14],[128,8,103,16,"sessionToken"],[129,6,103,29],[129,7,103,30],[129,10,103,33,"get"],[129,13,103,36],[129,14,103,37],[129,15,103,38],[130,6,104,8],[130,10,104,12],[130,11,104,13,"sessionToken"],[130,23,104,25],[130,25,104,27],[130,31,104,33],[130,35,104,37,"Error"],[130,40,104,42],[130,41,104,43],[130,60,104,62],[130,61,104,63],[131,6,106,8],[131,10,106,12],[132,8,107,10],[132,14,107,16,"response"],[132,22,107,24],[132,25,107,27],[132,31,107,33,"api"],[132,43,107,36],[132,44,107,36,"api"],[132,47,107,36],[132,48,107,37,"put"],[132,51,107,40],[132,52,107,41],[132,67,107,56],[132,69,107,58,"updates"],[132,76,107,65],[132,78,107,67],[133,10,108,12,"headers"],[133,17,108,19],[133,19,108,21],[134,12,108,23,"Authorization"],[134,25,108,36],[134,27,108,38],[134,37,108,48,"sessionToken"],[134,49,108,60],[135,10,108,63],[136,8,109,10],[136,9,109,11],[136,10,109,12],[137,8,110,10,"set"],[137,11,110,13],[137,12,110,14],[138,10,110,16,"user"],[138,14,110,20],[138,16,110,22,"response"],[138,24,110,30],[138,25,110,31,"data"],[139,8,110,36],[139,9,110,37],[139,10,110,38],[140,6,111,8],[140,7,111,9],[140,8,111,10],[140,15,111,17,"error"],[140,20,111,22],[140,22,111,24],[141,8,112,10,"console"],[141,15,112,17],[141,16,112,18,"error"],[141,21,112,23],[141,22,112,24],[141,45,112,47],[141,47,112,49,"error"],[141,52,112,54],[141,53,112,55],[142,8,113,10],[142,14,113,16,"error"],[142,19,113,21],[143,6,114,8],[144,4,115,6],[145,2,116,4],[145,3,116,5],[145,4,116,6],[145,6,117,4],[146,4,118,6,"name"],[146,8,118,10],[146,10,118,12],[146,29,118,31],[147,4,119,6,"storage"],[147,11,119,13],[147,13,119,15],[147,17,119,15,"createJSONStorage"],[147,35,119,32],[147,36,119,32,"createJSONStorage"],[147,53,119,32],[147,55,119,33],[147,61,119,39,"AsyncStorage"],[147,73,119,51],[147,74,119,51,"default"],[147,81,119,51],[147,82,119,52],[148,4,120,6,"partialize"],[148,14,120,16],[148,16,120,19,"state"],[148,21,120,24],[148,26,120,30],[149,6,121,8,"sessionToken"],[149,18,121,20],[149,20,121,22,"state"],[149,25,121,27],[149,26,121,28,"sessionToken"],[149,38,121,40],[150,6,122,8,"hasCompletedOnboarding"],[150,28,122,30],[150,30,122,32,"state"],[150,35,122,37],[150,36,122,38,"hasCompletedOnboarding"],[151,4,123,6],[151,5,123,7],[152,2,124,4],[152,3,125,2],[152,4,126,0],[152,5,126,1],[153,2,128,0],[153,6,128,0,"_default"],[153,14,128,0],[153,17,128,15,"useAuthStore"],[153,29,128,27],[154,0,128,28],[154,3]],"functionMap":{"names":["<global>","persist$argument_0","setUser","setSessionToken","setLoading","setOnboardingComplete","login","logout","checkAuth","updateProfile","createJSONStorage$argument_0","persist$argument_1.partialize"],"mappings":"AAA;IC0B;eCO,gDD;uBEC,uCF;kBGC,iCH;6BIC,2DJ;aKE;OLiB;cME;ONiB;iBOE;OPuB;qBQE;ORa;MDC;iCUG,kBV;kBWC;QXG"},"hasCjsExports":false},"type":"js/module"}]}